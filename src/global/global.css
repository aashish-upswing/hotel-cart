@import 'flatpickr/dist/flatpickr.min.css';

/**
 * Global CSS Variables and Styles
 * organized by category: Colors, Typography, Spacing, Shadows, etc.
 */

:root {
  /* =========================================
     Color Palette: Core
     ========================================= */
  --primary-color: #000000;
  --primary-color-hover: #4d4d4d;
  --bg-color: #f9fafb;
  --bg-white: #ffffff;

  /* =========================================
     Color Palette: Text
     ========================================= */
  --text-primary: #333333;
  --text-secondary: #7b8190;
  --text-tertiary: #4a5160;

  /* =========================================
     Color Palette: Accents
     ========================================= */
  --accent-blue: #a6ccff;
  --accent-blue-hover: #3b82f6;
  --accent-cyan: #0084d1;

  /* =========================================
     Color Palette: Neutrals / Grays
     ========================================= */
  --gray-100: #f9f9f9;
  --gray-200: #e5e5e5;
  --gray-300: #dfdfdf;
  --gray-400: #afafaf;
  --gray-500: #9c9c9c;
  --gray-600: #6b6b6b;
  --gray-700: #4b4b4b;
  --gray-800: #1f1f1f;

  /* =========================================
     Color Palette: Functional (States)
     ========================================= */
  --danger-bg: #ffadad;
  --danger-bg-hover: #fecaca;
  --danger-text: #d80000;
  --danger-text-dark: #b00000;

  /* =========================================
     Component Specific Variables
     ========================================= */
  --tag-bg: #eef1f6;

  /* =========================================
     Shadows & Elevation
     ========================================= */
  --shadow-card: 0 4px 14px rgba(0, 0, 0, 0.08);
  --shadow-sm: 0 4px 8px rgba(0, 0, 0, 0.2);

  /* =========================================
     Border Radius
     ========================================= */
  --radius-xs: 6px;
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 24px;
  --radius-full: 999px;

  /* =========================================
     Filter Effects (Icons)
     ========================================= */
  --icon-filter: brightness(0);
  --icon-filter-inverse: brightness(0) invert(1);
}

/* =========================================
   Theme: Dark Mode (System Preference)
   ========================================= */
@media (prefers-color-scheme: dark) {
  :root {
    /* Colors */
    --primary-color: #ffffff;
    --primary-color-hover: #e5e5e5;
    --bg-color: #1a1a1a;
    --bg-white: #292929;

    /* Text */
    --text-primary: #f9fafb;
    --text-secondary: #9ca3af;
    --text-tertiary: #d1d5db;

    /* Grays */
    --gray-100: #242424;
    --gray-200: #272727;
    --gray-300: #222222;
    --gray-400: #222222;
    --gray-500: #a3a3a3;
    --gray-600: #737373;
    --gray-700: #525252;
    --gray-800: #262626;

    /* Accents & Functional */
    --accent-blue: #6177bee1;
    --accent-blue-hover: #a6ccff;
    --danger-bg: #ffd4d4;
    --danger-bg-hover: #ff8d8d;
    --danger-text: #440000;
    --danger-text-dark: #440000;
    --tag-bg: #404040;

    /* Shadows & Effects */
    --shadow-card: 0 4px 14px rgba(0, 0, 0, 0.4);
    --shadow-sm: 0 4px 8px rgba(0, 0, 0, 0.3);

    --icon-filter: brightness(0) invert(1);
    --icon-filter-inverse: brightness(0);
  }

  /* Flatpickr Dark Mode Overrides */
  .flatpickr-calendar {
    background: var(--bg-white) !important;
    box-shadow: var(--shadow-card) !important;
  }
  .flatpickr-day {
    color: var(--text-primary) !important;
  }
  .flatpickr-day.flatpickr-disabled,
  .flatpickr-day.flatpickr-disabled:hover {
    color: var(--text-secondary) !important;
  }
  .flatpickr-day:hover,
  .flatpickr-day.prevMonthDay:hover,
  .flatpickr-day.nextMonthDay:hover,
  .flatpickr-day:focus {
    background: var(--gray-200) !important;
    border-color: var(--gray-200) !important;
  }
  .flatpickr-months .flatpickr-month {
    color: var(--text-primary) !important;
    fill: var(--text-primary) !important;
  }
  .flatpickr-months .flatpickr-prev-month,
  .flatpickr-months .flatpickr-next-month {
    color: var(--text-primary) !important;
    fill: var(--text-primary) !important;
  }
  .flatpickr-current-month .flatpickr-monthDropdown-months,
  .flatpickr-current-month input.cur-year {
    color: var(--text-primary) !important;
  }
  .flatpickr-weekday {
    color: var(--text-secondary) !important;
  }
  .flatpickr-time input {
    color: var(--text-primary) !important;
  }
  .flatpickr-time .flatpickr-time-separator,
  .flatpickr-time .flatpickr-am-pm {
    color: var(--text-primary) !important;
  }
}

/* =========================================
   Theme: Explicit Dark Mode (Data Attribute)
   ========================================= */
:root[data-theme='dark'] {
  --primary-color: #ffffff;
  --primary-color-hover: #e5e5e5;
  --bg-color: #252525;
  --bg-white: #303030;

  --text-primary: #f9fafb;
  --text-secondary: #9ca3af;
  --text-tertiary: #d1d5db;

  --gray-100: #2e2e2e;
  --gray-200: #525252;
  --gray-300: #4b4b4b;
  --tag-bg: #404040;

  --shadow-card: 0 4px 14px rgb(0, 0, 0, 1);
  --shadow-sm: 0 4px 8px rgba(0, 0, 0, 0.3);
  --icon-filter: brightness(0) invert(1);

  --danger-bg: #ff4444;
  --danger-bg-hover: #ff2222;
}

/* =========================================
   Theme: Explicit Light Mode (Data Attribute)
   ========================================= */
:root[data-theme='light'] {
  --primary-color: #000000;
  --primary-color-hover: #4d4d4d;
  --bg-color: #f9fafb;
  --bg-white: #ffffff;

  --text-primary: #383838;
  --text-secondary: #7b8190;
  --text-tertiary: #4a5160;

  --gray-100: #f9fafb;
  --gray-200: #e5e7eb;
  --gray-300: #dfdfdf;
  --tag-bg: #eef1f6;

  --accent-blue: #eff6ff;
  --accent-blue-hover: #3b82f6;

  --shadow-card: 0 4px 14px rgba(0, 0, 0, 0.4);
  --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.2);

  --icon-filter: brightness(0);
  --icon-filter-inverse: brightness(0) invert(1);
}

/* =========================================
   Base / Reset Styles
   ========================================= */
body {
  margin: 0;
  padding: 0;
  font-family:
    'Inter',
    system-ui,
    -apple-system,
    sans-serif;
  background-color: var(--bg-color);
  color: var(--text-primary);
  box-sizing: border-box;
  transition:
    background-color 0.3s ease,
    color 0.3s ease;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

/* =========================================
   Global Layout Helpers
   ========================================= */
.main-layout {
  display: flex;
  flex-direction: column;
  min-height: 100%;
  width: 100%;
  padding: 16px;
}

.open-cart-btn {
  position: fixed;
  top: 16px;
  right: 16px;
  padding: 12px 24px;
  background-color: var(--primary-color);
  color: var(--bg-color); /* Inverted for high contrast */
  border: none;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  z-index: 100;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.open-cart-btn:hover {
  background-color: var(--primary-color-hover);
}
